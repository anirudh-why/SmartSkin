{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aniru\\\\OneDrive\\\\Desktop\\\\SmartSkin\\\\smartskin-app\\\\frontend\\\\src\\\\pages\\\\RoutinePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BeakerIcon, SunIcon, MoonIcon, BookmarkIcon } from '@heroicons/react/24/outline';\nimport { CloudIcon, FireIcon, CheckCircleIcon } from '@heroicons/react/24/solid';\nimport Select from 'react-select';\nimport Button from '../components/Button';\nimport { useAuth } from '../contexts/AuthContext';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction RoutinePage() {\n  _s();\n  const {\n    saveRoutine\n  } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [metadata, setMetadata] = useState(null);\n  const [routine, setRoutine] = useState(null);\n  const [error, setError] = useState(null);\n  const [ageRange, setAgeRange] = useState('18-30');\n  const [routineName, setRoutineName] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n  const [isSaved, setIsSaved] = useState(false);\n\n  // Form state for user input\n  const [formData, setFormData] = useState({\n    skin_type: '',\n    skin_concerns: [],\n    allergies: [],\n    climate: 'mild',\n    age: 25,\n    include_products: true\n  });\n\n  // Define age ranges\n  const ageRanges = [{\n    value: 'under-18',\n    label: 'Under 18',\n    age: 16\n  }, {\n    value: '18-30',\n    label: '18-30',\n    age: 25\n  }, {\n    value: '31-45',\n    label: '31-45',\n    age: 38\n  }, {\n    value: '46-60',\n    label: '46-60',\n    age: 53\n  }, {\n    value: 'over-60',\n    label: 'Over 60',\n    age: 65\n  }];\n\n  // Load metadata on component mount\n  useEffect(() => {\n    const fetchMetadata = async () => {\n      try {\n        const response = await axios.get('/api/routine/metadata');\n        setMetadata(response.data);\n      } catch (err) {\n        console.error('Error fetching metadata:', err);\n        setError('Could not load form data. Please try again later.');\n      }\n    };\n    fetchMetadata();\n  }, []);\n\n  // Reset saved state when routine changes\n  useEffect(() => {\n    setIsSaved(false);\n    if (routine) {\n      setRoutineName(`My ${formData.skin_type} Skin Routine`);\n    }\n  }, [routine, formData.skin_type]);\n  const handleSkinTypeChange = e => {\n    setFormData({\n      ...formData,\n      skin_type: e.target.value\n    });\n  };\n  const handleConcernsChange = selected => {\n    setFormData({\n      ...formData,\n      skin_concerns: selected ? selected.map(option => option.value) : []\n    });\n  };\n  const handleAllergiesChange = e => {\n    // Split by commas and trim whitespace\n    const allergies = e.target.value.split(',').map(item => item.trim()).filter(item => item);\n    setFormData({\n      ...formData,\n      allergies\n    });\n  };\n  const handleClimateChange = e => {\n    setFormData({\n      ...formData,\n      climate: e.target.value\n    });\n  };\n  const handleAgeRangeChange = selected => {\n    if (selected) {\n      setAgeRange(selected.value);\n      setFormData({\n        ...formData,\n        age: selected.age\n      });\n    }\n  };\n  const handleRoutineNameChange = e => {\n    setRoutineName(e.target.value);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setIsSaved(false);\n    try {\n      const response = await axios.post('/api/routine/recommendations', formData);\n      if (response.data.success) {\n        setRoutine(response.data.routine);\n        window.scrollTo({\n          top: document.getElementById('results').offsetTop - 80,\n          behavior: 'smooth'\n        });\n      } else {\n        setError(response.data.error || 'An error occurred. Please try again.');\n      }\n    } catch (err) {\n      console.error('Error fetching routine:', err);\n      setError('Could not generate routine. Please try again later.');\n      toast.error('Could not generate routine. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSaveRoutine = async () => {\n    if (!routine) return;\n    setIsSaving(true);\n    try {\n      // Extract steps from morning, evening, and weekly routines\n      const morningSteps = routine.morning.map(item => item.step);\n      const eveningSteps = routine.evening.map(item => item.step);\n      const weeklySteps = routine.weekly.map(item => `${item.step} (${item.frequency})`);\n\n      // Extract all products if they exist\n      const products = [...routine.morning.filter(item => item.product_recommendations).flatMap(item => item.product_recommendations.map(product => `${product.brand} - ${product.name}`)), ...routine.evening.filter(item => item.product_recommendations).flatMap(item => item.product_recommendations.map(product => `${product.brand} - ${product.name}`))];\n\n      // Prepare routine data\n      const routineData = {\n        name: routineName || `My ${formData.skin_type} Skin Routine`,\n        steps: [...morningSteps.map(step => `Morning: ${step}`), ...eveningSteps.map(step => `Evening: ${step}`), ...weeklySteps.map(step => `Weekly: ${step}`)],\n        products: products\n      };\n\n      // Save routine to backend\n      await saveRoutine(routineData);\n      setIsSaved(true);\n      toast.success('Routine saved successfully!');\n    } catch (error) {\n      console.error('Error saving routine:', error);\n      toast.error('Failed to save routine. Please try again.');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  const getClimateIcon = climate => {\n    switch (climate) {\n      case 'hot_humid':\n        return /*#__PURE__*/_jsxDEV(FireIcon, {\n          className: \"h-6 w-6 text-orange-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 16\n        }, this);\n      case 'cold_dry':\n        return /*#__PURE__*/_jsxDEV(CloudIcon, {\n          className: \"h-6 w-6 text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 16\n        }, this);\n      case 'mild':\n      default:\n        return /*#__PURE__*/_jsxDEV(CloudIcon, {\n          className: \"h-6 w-6 text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (!metadata) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-pulse text-xl text-gray-600\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold text-gray-900 mb-4\",\n        children: \"Your Personalized Skincare Routine\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl text-gray-600 max-w-3xl mx-auto\",\n        children: \"Get a customized daily skincare routine based on your skin type, concerns, and other factors. Our AI recommends the most effective products and ingredients for your unique needs.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-md p-6 mb-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-800 mb-6\",\n        children: \"Tell us about your skin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"Skin Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-5 gap-3\",\n            children: metadata.skin_types.map(type => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `\n                  flex items-center justify-center p-3 border-2 rounded-lg cursor-pointer transition duration-200\n                  ${formData.skin_type === type ? 'border-primary-500 bg-primary-50 text-primary-700' : 'border-gray-200 hover:border-primary-200 hover:bg-primary-50/50'}\n                `,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"skin_type\",\n                value: type,\n                checked: formData.skin_type === type,\n                onChange: handleSkinTypeChange,\n                className: \"sr-only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)]\n            }, type, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"skin_concerns\",\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"What are your skin concerns? (Select all that apply)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            isMulti: true,\n            name: \"skin_concerns\",\n            options: metadata.skin_concerns.map(concern => ({\n              value: concern,\n              label: concern\n            })),\n            className: \"react-select-container\",\n            classNamePrefix: \"react-select\",\n            placeholder: \"Select skin concerns...\",\n            onChange: handleConcernsChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"age_range\",\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"What is your age range?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            name: \"age_range\",\n            options: ageRanges,\n            className: \"react-select-container\",\n            classNamePrefix: \"react-select\",\n            placeholder: \"Select age range...\",\n            onChange: handleAgeRangeChange,\n            defaultValue: ageRanges.find(range => range.value === ageRange)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"allergies\",\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"Do you have any allergies or ingredients to avoid? (comma separated)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"allergies\",\n            placeholder: \"e.g. Fragrance, Alcohol, Sulfates\",\n            className: \"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n            onChange: handleAllergiesChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"What is your climate?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-3\",\n            children: metadata.climate_options.map(climate => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `\n                  flex items-center p-3 border-2 rounded-lg cursor-pointer transition duration-200\n                  ${formData.climate === climate ? 'border-primary-500 bg-primary-50 text-primary-700' : 'border-gray-200 hover:border-primary-200 hover:bg-primary-50/50'}\n                `,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"climate\",\n                value: climate,\n                checked: formData.climate === climate,\n                onChange: handleClimateChange,\n                className: \"sr-only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [getClimateIcon(climate), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2\",\n                  children: climate.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this)]\n            }, climate, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center pt-4\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"primary\",\n            disabled: loading || !formData.skin_type,\n            className: \"w-full max-w-md py-3 text-lg shadow-lg shadow-primary-200 hover:shadow-primary-300 transform hover:-translate-y-1 transition-all duration-300\",\n            children: loading ? 'Generating your routine...' : 'Get Your Personalized Routine'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"results\",\n      className: `${routine ? 'block' : 'hidden'}`,\n      children: routine && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-md p-6 mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-gray-800\",\n            children: \"Your Personalized Skincare Routine\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: isSaved ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-green-600\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Saved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Routine Name\",\n                  value: routineName,\n                  onChange: handleRoutineNameChange,\n                  className: \"w-full border border-gray-300 rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveRoutine,\n                disabled: isSaving,\n                className: \"flex items-center justify-center bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200\",\n                children: isSaving ? 'Saving...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(BookmarkIcon, {\n                    className: \"h-5 w-5 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 27\n                  }, this), \"Save Routine\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(SunIcon, {\n              className: \"h-7 w-7 text-amber-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"Morning Routine\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-amber-50 rounded-lg p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"space-y-8\",\n              children: routine.morning.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"relative pl-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute left-0 flex items-center justify-center w-6 h-6 rounded-full bg-amber-400 text-white font-semibold text-sm\",\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg p-4 shadow\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: item.step\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 25\n                  }, this), item.texture && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-amber-600 mb-2\",\n                    children: [\"Recommended Texture: \", item.texture]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Recommended Ingredients:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-1 flex flex-wrap gap-1\",\n                      children: item.recommended_ingredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-block px-2 py-1 text-xs bg-green-100 text-green-800 rounded\",\n                        children: ingredient\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 389,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 25\n                  }, this), item.avoid_ingredients && item.avoid_ingredients.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Avoid Ingredients:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-1 flex flex-wrap gap-1\",\n                      children: item.avoid_ingredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-block px-2 py-1 text-xs bg-red-100 text-red-800 rounded\",\n                        children: ingredient\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 27\n                  }, this), item.product_recommendations && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Product Recommendations:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"mt-2 space-y-2\",\n                      children: item.product_recommendations.map((product, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"p-2 bg-gray-50 rounded text-sm\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-medium\",\n                          children: [product.brand, \" - \", product.name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 415,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-gray-500\",\n                          children: [\"Rating: \", product.rating, \"/5\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 416,\n                          columnNumber: 35\n                        }, this)]\n                      }, i, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this)]\n              }, `morning-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(MoonIcon, {\n              className: \"h-7 w-7 text-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"Evening Routine\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-indigo-50 rounded-lg p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"space-y-8\",\n              children: routine.evening.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"relative pl-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute left-0 flex items-center justify-center w-6 h-6 rounded-full bg-indigo-500 text-white font-semibold text-sm\",\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg p-4 shadow\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: item.step\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 25\n                  }, this), item.texture && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-indigo-600 mb-2\",\n                    children: [\"Recommended Texture: \", item.texture]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Recommended Ingredients:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-1 flex flex-wrap gap-1\",\n                      children: item.recommended_ingredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-block px-2 py-1 text-xs bg-green-100 text-green-800 rounded\",\n                        children: ingredient\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 452,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 25\n                  }, this), item.avoid_ingredients && item.avoid_ingredients.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Avoid Ingredients:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-1 flex flex-wrap gap-1\",\n                      children: item.avoid_ingredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-block px-2 py-1 text-xs bg-red-100 text-red-800 rounded\",\n                        children: ingredient\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 464,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 27\n                  }, this), item.product_recommendations && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Product Recommendations:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"mt-2 space-y-2\",\n                      children: item.product_recommendations.map((product, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"p-2 bg-gray-50 rounded text-sm\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-medium\",\n                          children: [product.brand, \" - \", product.name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 478,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-gray-500\",\n                          children: [\"Rating: \", product.rating, \"/5\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 479,\n                          columnNumber: 35\n                        }, this)]\n                      }, i, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 477,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 23\n                }, this)]\n              }, `evening-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(BeakerIcon, {\n              className: \"h-7 w-7 text-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"Weekly Treatments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-purple-50 rounded-lg p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: routine.weekly.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white rounded-lg p-4 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: item.step\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-purple-600 mb-2\",\n                  children: [\"Frequency: \", item.frequency]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"text-sm font-medium text-gray-700\",\n                    children: \"Recommended Ingredients:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-1 flex flex-wrap gap-1\",\n                    children: item.recommended_ingredients.map((ingredient, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"inline-block px-2 py-1 text-xs bg-green-100 text-green-800 rounded\",\n                      children: ingredient\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 23\n                }, this)]\n              }, `weekly-${index}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}\n_s(RoutinePage, \"8zhMqC5OTMtJYB9HQhq6Uebv+pk=\", false, function () {\n  return [useAuth];\n});\n_c = RoutinePage;\nexport default RoutinePage;\nvar _c;\n$RefreshReg$(_c, \"RoutinePage\");","map":{"version":3,"names":["React","useState","useEffect","axios","BeakerIcon","SunIcon","MoonIcon","BookmarkIcon","CloudIcon","FireIcon","CheckCircleIcon","Select","Button","useAuth","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","RoutinePage","_s","saveRoutine","loading","setLoading","metadata","setMetadata","routine","setRoutine","error","setError","ageRange","setAgeRange","routineName","setRoutineName","isSaving","setIsSaving","isSaved","setIsSaved","formData","setFormData","skin_type","skin_concerns","allergies","climate","age","include_products","ageRanges","value","label","fetchMetadata","response","get","data","err","console","handleSkinTypeChange","e","target","handleConcernsChange","selected","map","option","handleAllergiesChange","split","item","trim","filter","handleClimateChange","handleAgeRangeChange","handleRoutineNameChange","handleSubmit","preventDefault","post","success","window","scrollTo","top","document","getElementById","offsetTop","behavior","handleSaveRoutine","morningSteps","morning","step","eveningSteps","evening","weeklySteps","weekly","frequency","products","product_recommendations","flatMap","product","brand","name","routineData","steps","getClimateIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","children","onSubmit","skin_types","type","checked","onChange","htmlFor","isMulti","options","concern","classNamePrefix","placeholder","defaultValue","find","range","climate_options","replace","l","toUpperCase","variant","disabled","id","onClick","index","texture","recommended_ingredients","ingredient","i","avoid_ingredients","length","rating","_c","$RefreshReg$"],"sources":["C:/Users/aniru/OneDrive/Desktop/SmartSkin/smartskin-app/frontend/src/pages/RoutinePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { BeakerIcon, SunIcon, MoonIcon, BookmarkIcon } from '@heroicons/react/24/outline';\r\nimport { CloudIcon, FireIcon, CheckCircleIcon } from '@heroicons/react/24/solid';\r\nimport Select from 'react-select';\r\nimport Button from '../components/Button';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction RoutinePage() {\r\n  const { saveRoutine } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [routine, setRoutine] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [ageRange, setAgeRange] = useState('18-30');\r\n  const [routineName, setRoutineName] = useState('');\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [isSaved, setIsSaved] = useState(false);\r\n  \r\n  // Form state for user input\r\n  const [formData, setFormData] = useState({\r\n    skin_type: '',\r\n    skin_concerns: [],\r\n    allergies: [],\r\n    climate: 'mild',\r\n    age: 25,\r\n    include_products: true\r\n  });\r\n  \r\n  // Define age ranges\r\n  const ageRanges = [\r\n    { value: 'under-18', label: 'Under 18', age: 16 },\r\n    { value: '18-30', label: '18-30', age: 25 },\r\n    { value: '31-45', label: '31-45', age: 38 },\r\n    { value: '46-60', label: '46-60', age: 53 },\r\n    { value: 'over-60', label: 'Over 60', age: 65 }\r\n  ];\r\n  \r\n  // Load metadata on component mount\r\n  useEffect(() => {\r\n    const fetchMetadata = async () => {\r\n      try {\r\n        const response = await axios.get('/api/routine/metadata');\r\n        setMetadata(response.data);\r\n      } catch (err) {\r\n        console.error('Error fetching metadata:', err);\r\n        setError('Could not load form data. Please try again later.');\r\n      }\r\n    };\r\n    \r\n    fetchMetadata();\r\n  }, []);\r\n\r\n  // Reset saved state when routine changes\r\n  useEffect(() => {\r\n    setIsSaved(false);\r\n    if (routine) {\r\n      setRoutineName(`My ${formData.skin_type} Skin Routine`);\r\n    }\r\n  }, [routine, formData.skin_type]);\r\n  \r\n  const handleSkinTypeChange = (e) => {\r\n    setFormData({ ...formData, skin_type: e.target.value });\r\n  };\r\n  \r\n  const handleConcernsChange = (selected) => {\r\n    setFormData({ \r\n      ...formData, \r\n      skin_concerns: selected ? selected.map(option => option.value) : [] \r\n    });\r\n  };\r\n  \r\n  const handleAllergiesChange = (e) => {\r\n    // Split by commas and trim whitespace\r\n    const allergies = e.target.value.split(',').map(item => item.trim()).filter(item => item);\r\n    setFormData({ ...formData, allergies });\r\n  };\r\n  \r\n  const handleClimateChange = (e) => {\r\n    setFormData({ ...formData, climate: e.target.value });\r\n  };\r\n  \r\n  const handleAgeRangeChange = (selected) => {\r\n    if (selected) {\r\n      setAgeRange(selected.value);\r\n      setFormData({ ...formData, age: selected.age });\r\n    }\r\n  };\r\n\r\n  const handleRoutineNameChange = (e) => {\r\n    setRoutineName(e.target.value);\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    setIsSaved(false);\r\n    \r\n    try {\r\n      const response = await axios.post('/api/routine/recommendations', formData);\r\n      if (response.data.success) {\r\n        setRoutine(response.data.routine);\r\n        window.scrollTo({ top: document.getElementById('results').offsetTop - 80, behavior: 'smooth' });\r\n      } else {\r\n        setError(response.data.error || 'An error occurred. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching routine:', err);\r\n      setError('Could not generate routine. Please try again later.');\r\n      toast.error('Could not generate routine. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveRoutine = async () => {\r\n    if (!routine) return;\r\n    \r\n    setIsSaving(true);\r\n    \r\n    try {\r\n      // Extract steps from morning, evening, and weekly routines\r\n      const morningSteps = routine.morning.map(item => item.step);\r\n      const eveningSteps = routine.evening.map(item => item.step);\r\n      const weeklySteps = routine.weekly.map(item => `${item.step} (${item.frequency})`);\r\n      \r\n      // Extract all products if they exist\r\n      const products = [\r\n        ...routine.morning\r\n          .filter(item => item.product_recommendations)\r\n          .flatMap(item => item.product_recommendations.map(product => `${product.brand} - ${product.name}`)),\r\n        ...routine.evening\r\n          .filter(item => item.product_recommendations)\r\n          .flatMap(item => item.product_recommendations.map(product => `${product.brand} - ${product.name}`))\r\n      ];\r\n      \r\n      // Prepare routine data\r\n      const routineData = {\r\n        name: routineName || `My ${formData.skin_type} Skin Routine`,\r\n        steps: [\r\n          ...morningSteps.map(step => `Morning: ${step}`),\r\n          ...eveningSteps.map(step => `Evening: ${step}`),\r\n          ...weeklySteps.map(step => `Weekly: ${step}`)\r\n        ],\r\n        products: products\r\n      };\r\n      \r\n      // Save routine to backend\r\n      await saveRoutine(routineData);\r\n      setIsSaved(true);\r\n      toast.success('Routine saved successfully!');\r\n    } catch (error) {\r\n      console.error('Error saving routine:', error);\r\n      toast.error('Failed to save routine. Please try again.');\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n  \r\n  const getClimateIcon = (climate) => {\r\n    switch (climate) {\r\n      case 'hot_humid':\r\n        return <FireIcon className=\"h-6 w-6 text-orange-500\" />;\r\n      case 'cold_dry':\r\n        return <CloudIcon className=\"h-6 w-6 text-blue-500\" />;\r\n      case 'mild':\r\n      default:\r\n        return <CloudIcon className=\"h-6 w-6 text-green-500\" />;\r\n    }\r\n  };\r\n  \r\n  if (!metadata) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"animate-pulse text-xl text-gray-600\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"text-center mb-10\">\r\n        <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\r\n          Your Personalized Skincare Routine\r\n        </h1>\r\n        <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\r\n          Get a customized daily skincare routine based on your skin type, concerns, and other factors.\r\n          Our AI recommends the most effective products and ingredients for your unique needs.\r\n        </p>\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Form Section */}\r\n      <div className=\"bg-white rounded-xl shadow-md p-6 mb-12\">\r\n        <h2 className=\"text-2xl font-semibold text-gray-800 mb-6\">Tell us about your skin</h2>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {/* Skin Type */}\r\n          <div>\r\n            <label className=\"block text-gray-700 font-medium mb-2\">Skin Type</label>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3\">\r\n              {metadata.skin_types.map((type) => (\r\n                <label key={type} className={`\r\n                  flex items-center justify-center p-3 border-2 rounded-lg cursor-pointer transition duration-200\r\n                  ${formData.skin_type === type \r\n                    ? 'border-primary-500 bg-primary-50 text-primary-700' \r\n                    : 'border-gray-200 hover:border-primary-200 hover:bg-primary-50/50'\r\n                  }\r\n                `}>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"skin_type\"\r\n                    value={type}\r\n                    checked={formData.skin_type === type}\r\n                    onChange={handleSkinTypeChange}\r\n                    className=\"sr-only\"\r\n                  />\r\n                  <span>{type}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Skin Concerns */}\r\n          <div>\r\n            <label htmlFor=\"skin_concerns\" className=\"block text-gray-700 font-medium mb-2\">\r\n              What are your skin concerns? (Select all that apply)\r\n            </label>\r\n            <Select\r\n              isMulti\r\n              name=\"skin_concerns\"\r\n              options={metadata.skin_concerns.map(concern => ({ value: concern, label: concern }))}\r\n              className=\"react-select-container\"\r\n              classNamePrefix=\"react-select\"\r\n              placeholder=\"Select skin concerns...\"\r\n              onChange={handleConcernsChange}\r\n            />\r\n          </div>\r\n          \r\n          {/* Age Range */}\r\n          <div>\r\n            <label htmlFor=\"age_range\" className=\"block text-gray-700 font-medium mb-2\">\r\n              What is your age range?\r\n            </label>\r\n            <Select\r\n              name=\"age_range\"\r\n              options={ageRanges}\r\n              className=\"react-select-container\"\r\n              classNamePrefix=\"react-select\"\r\n              placeholder=\"Select age range...\"\r\n              onChange={handleAgeRangeChange}\r\n              defaultValue={ageRanges.find(range => range.value === ageRange)}\r\n            />\r\n          </div>\r\n          \r\n          {/* Allergies */}\r\n          <div>\r\n            <label htmlFor=\"allergies\" className=\"block text-gray-700 font-medium mb-2\">\r\n              Do you have any allergies or ingredients to avoid? (comma separated)\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"allergies\"\r\n              placeholder=\"e.g. Fragrance, Alcohol, Sulfates\"\r\n              className=\"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n              onChange={handleAllergiesChange}\r\n            />\r\n          </div>\r\n          \r\n          {/* Climate */}\r\n          <div>\r\n            <label className=\"block text-gray-700 font-medium mb-2\">What is your climate?</label>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n              {metadata.climate_options.map((climate) => (\r\n                <label key={climate} className={`\r\n                  flex items-center p-3 border-2 rounded-lg cursor-pointer transition duration-200\r\n                  ${formData.climate === climate \r\n                    ? 'border-primary-500 bg-primary-50 text-primary-700' \r\n                    : 'border-gray-200 hover:border-primary-200 hover:bg-primary-50/50'\r\n                  }\r\n                `}>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"climate\"\r\n                    value={climate}\r\n                    checked={formData.climate === climate}\r\n                    onChange={handleClimateChange}\r\n                    className=\"sr-only\"\r\n                  />\r\n                  <div className=\"flex items-center\">\r\n                    {getClimateIcon(climate)}\r\n                    <span className=\"ml-2\">\r\n                      {climate.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                    </span>\r\n                  </div>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Submit Button */}\r\n          <div className=\"text-center pt-4\">\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"primary\"\r\n              disabled={loading || !formData.skin_type}\r\n              className=\"w-full max-w-md py-3 text-lg shadow-lg shadow-primary-200 hover:shadow-primary-300 transform hover:-translate-y-1 transition-all duration-300\"\r\n            >\r\n              {loading ? 'Generating your routine...' : 'Get Your Personalized Routine'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \r\n      {/* Results Section */}\r\n      <div id=\"results\" className={`${routine ? 'block' : 'hidden'}`}>\r\n        {routine && (\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 mb-12\">\r\n            <div className=\"flex justify-between items-center mb-8\">\r\n              <h2 className=\"text-2xl font-semibold text-gray-800\">\r\n                Your Personalized Skincare Routine\r\n              </h2>\r\n              \r\n              {/* Save Routine Button */}\r\n              <div>\r\n                {isSaved ? (\r\n                  <div className=\"flex items-center text-green-600\">\r\n                    <CheckCircleIcon className=\"h-5 w-5 mr-1\" />\r\n                    <span>Saved</span>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex flex-col\">\r\n                    <div className=\"mb-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Routine Name\"\r\n                        value={routineName}\r\n                        onChange={handleRoutineNameChange}\r\n                        className=\"w-full border border-gray-300 rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                      />\r\n                    </div>\r\n                    <button\r\n                      onClick={handleSaveRoutine}\r\n                      disabled={isSaving}\r\n                      className=\"flex items-center justify-center bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200\"\r\n                    >\r\n                      {isSaving ? 'Saving...' : (\r\n                        <>\r\n                          <BookmarkIcon className=\"h-5 w-5 mr-1\" />\r\n                          Save Routine\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Morning Routine */}\r\n            <div className=\"mb-10\">\r\n              <div className=\"flex items-center space-x-2 mb-4\">\r\n                <SunIcon className=\"h-7 w-7 text-amber-500\" />\r\n                <h3 className=\"text-xl font-semibold text-gray-800\">Morning Routine</h3>\r\n              </div>\r\n              \r\n              <div className=\"bg-amber-50 rounded-lg p-6\">\r\n                <ol className=\"space-y-8\">\r\n                  {routine.morning.map((item, index) => (\r\n                    <li key={`morning-${index}`} className=\"relative pl-8\">\r\n                      <div className=\"absolute left-0 flex items-center justify-center w-6 h-6 rounded-full bg-amber-400 text-white font-semibold text-sm\">\r\n                        {index + 1}\r\n                      </div>\r\n                      <div className=\"bg-white rounded-lg p-4 shadow\">\r\n                        <h4 className=\"font-semibold text-gray-800\">{item.step}</h4>\r\n                        {item.texture && (\r\n                          <p className=\"text-sm text-amber-600 mb-2\">Recommended Texture: {item.texture}</p>\r\n                        )}\r\n                        <div className=\"mt-2\">\r\n                          <h5 className=\"text-sm font-medium text-gray-700\">Recommended Ingredients:</h5>\r\n                          <div className=\"mt-1 flex flex-wrap gap-1\">\r\n                            {item.recommended_ingredients.map((ingredient, i) => (\r\n                              <span key={i} className=\"inline-block px-2 py-1 text-xs bg-green-100 text-green-800 rounded\">\r\n                                {ingredient}\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {item.avoid_ingredients && item.avoid_ingredients.length > 0 && (\r\n                          <div className=\"mt-2\">\r\n                            <h5 className=\"text-sm font-medium text-gray-700\">Avoid Ingredients:</h5>\r\n                            <div className=\"mt-1 flex flex-wrap gap-1\">\r\n                              {item.avoid_ingredients.map((ingredient, i) => (\r\n                                <span key={i} className=\"inline-block px-2 py-1 text-xs bg-red-100 text-red-800 rounded\">\r\n                                  {ingredient}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        \r\n                        {item.product_recommendations && (\r\n                          <div className=\"mt-4\">\r\n                            <h5 className=\"text-sm font-medium text-gray-700\">Product Recommendations:</h5>\r\n                            <ul className=\"mt-2 space-y-2\">\r\n                              {item.product_recommendations.map((product, i) => (\r\n                                <li key={i} className=\"p-2 bg-gray-50 rounded text-sm\">\r\n                                  <div className=\"font-medium\">{product.brand} - {product.name}</div>\r\n                                  <div className=\"text-xs text-gray-500\">Rating: {product.rating}/5</div>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ol>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Evening Routine */}\r\n            <div className=\"mb-10\">\r\n              <div className=\"flex items-center space-x-2 mb-4\">\r\n                <MoonIcon className=\"h-7 w-7 text-indigo-500\" />\r\n                <h3 className=\"text-xl font-semibold text-gray-800\">Evening Routine</h3>\r\n              </div>\r\n              \r\n              <div className=\"bg-indigo-50 rounded-lg p-6\">\r\n                <ol className=\"space-y-8\">\r\n                  {routine.evening.map((item, index) => (\r\n                    <li key={`evening-${index}`} className=\"relative pl-8\">\r\n                      <div className=\"absolute left-0 flex items-center justify-center w-6 h-6 rounded-full bg-indigo-500 text-white font-semibold text-sm\">\r\n                        {index + 1}\r\n                      </div>\r\n                      <div className=\"bg-white rounded-lg p-4 shadow\">\r\n                        <h4 className=\"font-semibold text-gray-800\">{item.step}</h4>\r\n                        {item.texture && (\r\n                          <p className=\"text-sm text-indigo-600 mb-2\">Recommended Texture: {item.texture}</p>\r\n                        )}\r\n                        <div className=\"mt-2\">\r\n                          <h5 className=\"text-sm font-medium text-gray-700\">Recommended Ingredients:</h5>\r\n                          <div className=\"mt-1 flex flex-wrap gap-1\">\r\n                            {item.recommended_ingredients.map((ingredient, i) => (\r\n                              <span key={i} className=\"inline-block px-2 py-1 text-xs bg-green-100 text-green-800 rounded\">\r\n                                {ingredient}\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {item.avoid_ingredients && item.avoid_ingredients.length > 0 && (\r\n                          <div className=\"mt-2\">\r\n                            <h5 className=\"text-sm font-medium text-gray-700\">Avoid Ingredients:</h5>\r\n                            <div className=\"mt-1 flex flex-wrap gap-1\">\r\n                              {item.avoid_ingredients.map((ingredient, i) => (\r\n                                <span key={i} className=\"inline-block px-2 py-1 text-xs bg-red-100 text-red-800 rounded\">\r\n                                  {ingredient}\r\n                                </span>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        \r\n                        {item.product_recommendations && (\r\n                          <div className=\"mt-4\">\r\n                            <h5 className=\"text-sm font-medium text-gray-700\">Product Recommendations:</h5>\r\n                            <ul className=\"mt-2 space-y-2\">\r\n                              {item.product_recommendations.map((product, i) => (\r\n                                <li key={i} className=\"p-2 bg-gray-50 rounded text-sm\">\r\n                                  <div className=\"font-medium\">{product.brand} - {product.name}</div>\r\n                                  <div className=\"text-xs text-gray-500\">Rating: {product.rating}/5</div>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ol>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Weekly Treatments */}\r\n            <div>\r\n              <div className=\"flex items-center space-x-2 mb-4\">\r\n                <BeakerIcon className=\"h-7 w-7 text-purple-500\" />\r\n                <h3 className=\"text-xl font-semibold text-gray-800\">Weekly Treatments</h3>\r\n              </div>\r\n              \r\n              <div className=\"bg-purple-50 rounded-lg p-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  {routine.weekly.map((item, index) => (\r\n                    <div key={`weekly-${index}`} className=\"bg-white rounded-lg p-4 shadow\">\r\n                      <h4 className=\"font-semibold text-gray-800\">{item.step}</h4>\r\n                      <p className=\"text-sm text-purple-600 mb-2\">Frequency: {item.frequency}</p>\r\n                      <div className=\"mt-2\">\r\n                        <h5 className=\"text-sm font-medium text-gray-700\">Recommended Ingredients:</h5>\r\n                        <div className=\"mt-1 flex flex-wrap gap-1\">\r\n                          {item.recommended_ingredients.map((ingredient, i) => (\r\n                            <span key={i} className=\"inline-block px-2 py-1 text-xs bg-green-100 text-green-800 rounded\">\r\n                              {ingredient}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoutinePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}